<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Love Quotes Dashboard â€” Fixed Center</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffeef6; --bg2:#eaf6ff; --bg3:#f3e9ff;
      --accent:#6b2ab0;
      --max-width:820px;
      --radius:18px;
      --card-shadow: 0 22px 44px rgba(80,30,110,0.08);
      --char-delay: 0.028s;
      --float-duration:6s;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;-webkit-font-smoothing:antialiased;}
    body{
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3));
      padding:24px;color:#221b2b;overflow:auto;
    }

    /* animated bg */
    .animated-bg{position:fixed;inset:0;z-index:0;background:linear-gradient(60deg,#ffd6eb 0%,#d6faff 45%,#ffe8f2 100%);background-size:300% 300%;animation:bgShift 18s ease infinite;filter:saturate(1.02)}
    @keyframes bgShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* container centered */
    .wrap{position:relative;z-index:2;width:100%;max-width:var(--max-width);margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:18px;padding:18px;}

    /* header */
    .header{text-align:center}
    .date{color:var(--accent);font-weight:600;font-size:1rem}
    .time{font-weight:700;font-size:1.3rem;margin-top:6px;color:#2f1f36}
    .title{font-size:1.6rem;font-weight:700;color:#2e1630;margin-top:8px;line-height:1.05}

    /* controls (centered) */
    .controls{width:100%;display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:6px}
    .btn-row{display:flex;gap:14px;flex-wrap:wrap;justify-content:center}
    .mood-btn{
      min-width:150px;padding:12px 18px;border-radius:14px;background:linear-gradient(180deg,#fff,#fbfbfb);
      border:1px solid rgba(120,80,160,0.08);box-shadow:0 8px 24px rgba(80,30,110,0.06);font-weight:700;color:#5a2e6f;cursor:pointer;
    }
    .mood-btn:active{transform:translateY(2px)}.mood-btn:focus{outline:3px solid rgba(107,42,176,0.12)}

    /* single centered quote card */
    .card-center{width:100%;display:flex;justify-content:center}
    .quote{
      width:100%;max-width:640px;min-height:240px;border-radius:16px;overflow:hidden;position:relative;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
      box-shadow:var(--card-shadow);display:none;transform-origin:center;
    }
    .quote.show{display:block;animation:cardIn .45s cubic-bezier(.2,.9,.2,1) both}
    @keyframes cardIn{from{opacity:0;transform:translateY(12px) scale(.996)}to{opacity:1;transform:translateY(0) scale(1)}}

    .card-media{position:absolute;inset:0;background-size:cover;background-position:center;filter:saturate(0.98) contrast(1.02)}
    .card-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.14) 0%, rgba(0,0,0,0.02) 60%);mix-blend-mode:normal}
    .card-content{position:relative;z-index:2;min-height:100%;display:flex;align-items:center;justify-content:center;text-align:center;padding:26px}

    /* moving text - use per-word/char approach but preserve spaces */
    .moving-text{display:inline-block;max-width:90%;font-size:1.02rem;line-height:1.6;font-weight:500}
    .moving-text .char{display:inline-block;white-space:pre;opacity:0;transform:translateY(8px);animation-name:charIn;animation-duration:420ms;animation-fill-mode:forwards;animation-timing-function:cubic-bezier(.2,.9,.2,1)}
    @keyframes charIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    .moving-text.float-loop{animation:floatLoop var(--float-duration) ease-in-out infinite}
    @keyframes floatLoop{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}

    /* mood colors */
    .text-happy{color:#fff8c6;text-shadow:0 6px 22px rgba(0,0,0,0.36)} /* pastel yellow */
    .text-tired{color:#0b0b0b;text-shadow:0 6px 18px rgba(0,0,0,0.28)} /* near-black */
    .text-sad{color:#031a3a;text-shadow:0 6px 18px rgba(0,0,0,0.28)} /* deep navy */

    .footer{margin-top:10px;color:#46374f;font-size:0.95rem;text-align:center}

    /* responsive tweaks */
    @media(max-width:700px){.title{font-size:1.3rem}.quote{min-height:200px;border-radius:14px}.moving-text{font-size:1rem}}
    @media(max-width:420px){.mood-btn{min-width:120px;padding:10px 12px;font-size:0.95rem}}
  </style>
</head>
<body>
  <div class="animated-bg" aria-hidden="true"></div>

  <main class="wrap" role="main" aria-labelledby="mainTitle">
    <header class="header" role="banner">
      <div id="dateText" class="date" aria-live="polite">loading date</div>
      <div id="timeText" class="time" aria-live="polite">00.00.00</div>
      <div id="mainTitle" class="title">open this when you feel</div>
    </header>

    <section class="controls" aria-label="mood controls">
      <div class="btn-row" role="group" aria-label="mood buttons">
        <button id="btn-happy" class="mood-btn" aria-controls="card-quote" aria-expanded="false">happy</button>
        <button id="btn-tired" class="mood-btn" aria-controls="card-quote" aria-expanded="false">tired</button>
        <button id="btn-sad" class="mood-btn" aria-controls="card-quote" aria-expanded="false">sad</button>
      </div>

      <div class="card-center" aria-hidden="false">
        <!-- single quote card used for all moods to avoid empty placeholders -->
        <article id="card-quote" class="quote" role="status" aria-hidden="true">
          <div id="card-media" class="card-media" aria-hidden="true"></div>
          <div class="card-overlay" aria-hidden="true"></div>
          <div class="card-content"></div>
        </article>
      </div>
    </section>

    <div class="footer">made with love, for the one i love ðŸ’Œ</div>
  </main>

<script>
/* ================= QUOTES (exact user content) ================= */
const HAPPY = [
`You woke up today with that quiet joy, the kind that doesnâ€™t need a reason. Just knowing youâ€™re here makes everything feel lighter. ILY, sayang.`,
`Even in small moments, like the sun on your face or the smell of coffee, I know you smile because something warm crosses your thoughts. I miss you, my love.`,
`You laughed today, and for a second, it felt like the world paused just to let you feel that happiness. I love seeing you like that, cintaku.`,
`Your presence has this calm energy, even chaos turns gentle when youâ€™re around. Youâ€™re my peace, semestaku hihi.`,
`You probably caught yourself daydreaming again, and those simple thoughts hold more warmth than a thousand perfect days. I love you endlessly, sayang.`,
`The little things â€” your laugh, a glance, the way you say my name â€” fill every moment with quiet magic. Youâ€™re my favorite part of every day, cintaku yang gemass nan lucu.`,
`By the end of today, I hope you remember that happiness isnâ€™t about what happens around you, but about the love you carry in your heart. And my love will always be there too.`
];

const TIRED = [
`I know youâ€™re tired in ways words canâ€™t really explain, your body wants to rest, but your mind wonâ€™t stop. Rest easy, sayang, Iâ€™m always here for you. I love you.`,
`Even the smallest things feel heavy sometimes, and I know you keep wondering how youâ€™ll get through the day. You donâ€™t have to face it alone, cintaku. Iâ€™m with you.`,
`I can see the exhaustion behind your eyes, that quiet weight you carry without ever saying a word. I wish I could hold you now, sayang, and let you rest.`,
`Every step takes double the energy, yet you still keep going. Thatâ€™s strength, even when it doesnâ€™t feel like it. Iâ€™m proud of you, semestaku. I love you.`,
`Thereâ€™s a heaviness in you today that no smile or coffee can fix, and thatâ€™s okay. Itâ€™s just one of those days. Let me be your calm, my love.`,
`Youâ€™ve been stretched thin between what you need and what you have to do, I hope you find a moment to breathe. Iâ€™m right here, sayang, holding you in my heart.`,
`By tonight, I know youâ€™re not just physically tired, but emotionally drained too. I wish I could help you rest from the inside out. I love you, always.`
];

const SAD = [
`I know thereâ€™s an emptiness in you today, a hollow space where happiness used to be, and no one else seems to notice. But I do, sayang. I love you more than words.`,
`Even when you laugh, I can tell itâ€™s a little borrowed, like youâ€™re trying to hide that quiet weight in your chest. I see you, cintaku, and Iâ€™ll never stop loving you.`,
`There are moments you just want to disappear, not because you want to give up, but because everything feels so heavy. Iâ€™ll stay with you through it all, my love.`,
`You sit in silence, and I know those memories still echo softly in places no one else can see. Iâ€™m here, sayang, holding you with my heart.`,
`Sometimes tears just fall, uninvited, and thatâ€™s okay. Holding them back would only hurt more. Let them fall, Iâ€™ll be here to wipe them away. Love you sayaangg`,
`I notice the small cracks, the parts of you that ache even when youâ€™re surrounded by people. I love all of you, sayang, even the quiet pain you hide.`,
`By night, when you lie awake, I know that sadness wraps around you like a blanket you never asked for. But Iâ€™ll be your warmth, my love, until you feel light again.`
];

/* ============== utilities ============== */
const card = document.getElementById('card-quote');
const media = document.getElementById('card-media');
const content = card.querySelector('.card-content');
const btnHappy = document.getElementById('btn-happy');
const btnTired = document.getElementById('btn-tired');
const btnSad = document.getElementById('btn-sad');

function two(n){return String(n).padStart(2,'0')}
function formatTimeDot(d){return `${two(d.getHours())}.${two(d.getMinutes())}.${two(d.getSeconds())}`}

const dateEl = document.getElementById('dateText');
const timeEl = document.getElementById('timeText');
function updateDateTime(){const now=new Date(); dateEl.textContent = `${now.toLocaleDateString('en-US',{weekday:'long'})}, ${String(now.getDate()).padStart(2,'0')} ${now.toLocaleDateString('en-US',{month:'long'})} ${now.getFullYear()}`; timeEl.textContent = formatTimeDot(now)}
updateDateTime(); setInterval(updateDateTime,1000);

function todayIdx(){return new Date().getDay()}

/* decorative backgrounds per mood */
const mediaMap = {
  happy: 'linear-gradient(180deg, rgba(255,190,120,0.10), rgba(255,230,150,0.04)), linear-gradient(120deg,#ffd6eb,#e9d4ff)',
  tired: 'linear-gradient(180deg, rgba(20,20,20,0.16), rgba(255,255,255,0.02)), linear-gradient(120deg,#e9f7ff,#f5eafc)',
  sad: 'linear-gradient(180deg, rgba(4,12,30,0.14), rgba(255,255,255,0.02)), linear-gradient(120deg,#d6faff,#f3e9ff)'
};

/* create moving text while preserving spaces */
function createMovingText(text, moodClass){
  // clear
  const wrapper = document.createElement('div');
  wrapper.className = 'moving-text float-loop ' + moodClass;
  // split into array of characters using spread (handles surrogate pairs)
  const chars = [...text];
  for(let i=0;i<chars.length;i++){
    const ch = chars[i];
    const span = document.createElement('span');
    span.className = 'char';
    // use regular space in text content but set white-space:pre on spans so sequences okay
    span.textContent = (ch === ' ') ? '\u00A0' : ch;
    span.style.animationDelay = (i * parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--char-delay') || 0.028)) + 's';
    wrapper.appendChild(span);
  }
  return wrapper;
}

/* populate the single card with given mood and text */
function populateCard(mood, text){
  // set background
  media.style.background = mediaMap[mood] || mediaMap.happy;
  media.style.backgroundSize = 'cover';
  media.style.backgroundPosition = 'center';

  // create moving text
  content.innerHTML = '';
  const moodClass = mood === 'happy' ? 'text-happy' : (mood === 'tired' ? 'text-tired' : 'text-sad');
  const moving = createMovingText(text, moodClass);
  content.appendChild(moving);
  // ensure card hidden initially
  card.setAttribute('aria-hidden','true');
}

/* toggle logic: open single card, restart char animation */
function closeCard(){
  card.classList.remove('show');
  card.setAttribute('aria-hidden','true');
  document.querySelectorAll('.mood-btn').forEach(b=>b.setAttribute('aria-expanded','false'));
}
function openCard(){
  // restart animations by forcing no-animation then reflow
  card.querySelectorAll('.char').forEach(el=> el.style.animation = 'none');
  setTimeout(()=> {
    card.querySelectorAll('.char').forEach(el=> el.style.animation = '');
  },20);
  card.classList.add('show');
  card.setAttribute('aria-hidden','false');
}

/* button handlers */
btnHappy.addEventListener('click', ()=> {
  const idx = todayIdx();
  populateCard('happy', HAPPY[idx] || HAPPY[0]);
  closeCard(); // ensure reset
  setTimeout(openCard, 10);
  btnHappy.setAttribute('aria-expanded','true');
});
btnTired.addEventListener('click', ()=> {
  const idx = todayIdx();
  populateCard('tired', TIRED[idx] || TIRED[0]);
  closeCard();
  setTimeout(openCard, 10);
  btnTired.setAttribute('aria-expanded','true');
});
btnSad.addEventListener('click', ()=> {
  const idx = todayIdx();
  populateCard('sad', SAD[idx] || SAD[0]);
  closeCard();
  setTimeout(openCard, 10);
  btnSad.setAttribute('aria-expanded','true');
});

/* midnight refresh to re-place quotes (keeps daily behavior) */
(function scheduleMidnight(){
  const now = new Date();
  const next = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1,0,0,1);
  const ms = next - now;
  setTimeout(()=> { /* if card open, close it; repopulate next day */
    closeCard();
    // nothing to change until user clicks; but we can re-populate with new day's text if needed
    scheduleMidnight();
  }, ms);
})();

/* optional: open happy by default for preview - comment out if not wanted */
 // btnHappy.click();

</script>
</body>
</html>
